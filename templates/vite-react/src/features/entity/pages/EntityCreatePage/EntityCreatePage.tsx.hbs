/**
 * {{entity.name}} Create Page
 * Generated by Dashboard Generator
 */

import { Form } from 'informed';
import { PageHeader } from '@/components/layout/PageHeader';
import { Card, CardContent } from '@/components/common/Card';
import { FormField } from '@/components/common/FormField';
import { FormSection } from '@/components/common/FormSection';
import { FormActions } from '@/components/common/FormActions';
import { use{{entity.name}}CreatePage } from './use{{entity.name}}CreatePage';
import type { Create{{entity.name}}Dto } from '@/types/{{entity.slug}}';

export function {{entity.name}}CreatePage() {
  const {
    isLoading,
    error,
    handleSubmit,
    validate,
  } = use{{entity.name}}CreatePage();

  return (
    <div>
      <PageHeader
        title="Create {{entity.name}}"
        breadcrumbs={[
          { label: 'Dashboard', href: '/' },
          { label: '{{entity.pluralName}}', href: '/{{entity.slug}}' },
          { label: 'Create' },
        ]}
      />

      <Card>
        <CardContent>
          <Form<Create{{entity.name}}Dto> onSubmit={handleSubmit}>
            {error && (
              <div className="mb-6 p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg">
                {error}
              </div>
            )}

            <FormSection columns={2}>
{{#each entity.fields}}
{{#if showInForm}}
              <FormField
                name="{{name}}"
                label="{{label}}"
                type="{{type}}"
                required={ {{required}} }
{{#if (eq type "enum")}}
                options={[
{{#each enumValues}}
                  { value: '{{this}}', label: '{{this}}' },
{{/each}}
                ]}
{{/if}}
{{#if min}}
                min={ {{min}} }
{{/if}}
{{#if max}}
                max={ {{max}} }
{{/if}}
{{#if minLength}}
                minLength={ {{minLength}} }
{{/if}}
{{#if maxLength}}
                maxLength={ {{maxLength}} }
{{/if}}
              />
{{/if}}
{{/each}}
            </FormSection>

            <FormActions
              submitLabel="Create {{entity.name}}"
              cancelHref="/{{entity.slug}}"
              isLoading={isLoading}
            />
          </Form>
        </CardContent>
      </Card>
    </div>
  );
}
